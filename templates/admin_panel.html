{% extends 'base.html' %}

{% block content %}
<h2>Admin Panel</h2>

<h3>Add Patient</h3>
<form method="POST" action="{{ url_for('add_patient_route') }}">
    <div class="form-group">
        <label for="name">Name</label>
        <input type="text" name="name" required>
    </div>
    <div class="form-group">
        <label for="surname">Surname</label>
        <input type="text" name="surname" required>
    </div>
    <div class="form-group">
        <label for="date_of_birth">Date of Birth</label>
        <input type="date" name="date_of_birth" required>
    </div>
    <div class="form-group">
        <label for="pesel">PESEL Number</label>
        <input type="text" name="pesel" required>
    </div>
    <button type="submit">Add Patient</button>
</form>

<h3>Appointments</h3>
<table>
    <tr>
        <th>ID</th>
        <th>Date</th>
        <th>Time</th>
        <th>Action</th>
    </tr>
    {% for appointment in appointments %}
    <tr>
        <td>{{ appointment['id'] }}</td>
        <td>{{ appointment['date'] }}</td>
        <td>{{ appointment['time'] }}</td>
        <td>
            <a href="{{ url_for('cancel_appointment_route', appointment_id=appointment['id']) }}">Cancel</a>
        </td>
    </tr>
    {% endfor %}
</table>

<a href="{{ url_for('logout') }}">Logout</a>
{% endblock %}